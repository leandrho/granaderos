---
import { ViewTransitions } from "astro:transitions"
import Header from "../components/Header.astro"
import Footer from "../components/Footer.astro"

const { black } = Astro.props;
---
<html lang="en">
	<head>
		<meta charset="utf-8" />
		<link rel="icon" type="image/svg+xml" href="/favicon.png" />
        <link rel="stylesheet" href="./css/global.css">
		<meta name="viewport" content="width=device-width" />
		<meta name="generator" content={Astro.generator} />
		<meta name="description" content="Club Deportivo Granaderos de Koslay - Fútbol Masculino y Femenino - 4 a 17 años">
		<meta name="author" content={'Leandrho'}>
		
		<!-- OG Metatags -->
		<meta property="og:title" content="Club Deportivo Granaderos de Koslay">
		<meta property="og:description" content="Club Deportivo Granaderos de Koslay - Fútbol Masculino y Femenino - 4 a 17 años">
		<meta property="og:image" content="./assets/brand.png">
		
		<title>Granaderos de Koslay</title>
		<ViewTransitions/>
	</head>
	<body class:list={
		[
			{'bg-color': black}
		]}>
		<Header/>
		<slot />
		<Footer />
	</body>
</html>
<script>
    const navs = () => {
        const ul = document.querySelector("#ul-nav");
        if(!ul)
             return;
        const lis = ul!.querySelectorAll('li');
     
        const curPath = window.location.pathname;
        for(let i = 0; i < lis.length ; ++i){
            const a = lis[i].firstElementChild as HTMLAnchorElement;
            const div = lis[i].lastElementChild;
            const href = a.getAttribute('href');
            div?.classList.remove('active')
            if(href === curPath){
                div?.classList.add('active');
            }
        }
    } 
	navs();  
	document.addEventListener('astro:after-swap',navs);
</script>
<style is:global>
	body{
		background-color: var(--gray);
		display: flex;
		flex-direction: column;
		justify-content: space-between;
		--bg-color: var(--dark-blue);
	}
	.bg-color{
		--bg-color: var(--black);
	}
</style>
